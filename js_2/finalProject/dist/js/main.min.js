$(document).ready(()=>{const t={productsCountOnPage:{"":8,index:8,product:9,"single-page":4},productsContainerOnPge:{"":".items-list",index:".items-list",product:".items-container","single-page":".items-list"},cartContainers:{"":".cart-list-container",index:".cart-list-container",product:".cart-list-container","single-page":".cart-list-container","shopping-cart":".cart-product-box"},sources:{items:"getProduct.json",cart:"getCart.json"},gallery:{classContainer:".single-product-slider"}},e=[],i=window.location.pathname.split("/").pop().split(".").shift(),n=t.productsCountOnPage[i],r=t.productsContainerOnPge[i],c=t.cartContainers[i];let o=new Cart(t.sources.cart,c,"shopping-cart"===i);if("single-page"===i){let i=JSON.parse(localStorage.getItem("singleProduct"));e.push(new Product(i.id,i.title,i.price,i.container,i.img,i.min_img,!0));let n=+i.img.split("_").pop().split(".").shift();const r=[i.img,i.img.replace(/\d/,1===n?8:n-1),i.img.replace(/\d/,8===n?0:n+1)];new myNewGallery(t.gallery.classContainer,r)}0!==n&&fetch(t.sources.items).then(t=>t.json()).then(t=>{for(let i=0;i<n;i++)e.push(new Product(t[i].id_product,t[i].product_name,t[i].price,r,t[i].img,t[i].min_img));$(".buyBtn").click(t=>{o.addProduct(t.target)}),$(".product__img-box").click(t=>{let i=$(t.target).data("id"),n=e.find(t=>t.id===i);localStorage.setItem("singleProduct",JSON.stringify(n))})})});